<!doctype html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>Fetch 시작하기</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        /* Fetch는?
        URL을 넣으면
        그 데이터를 가져오는 친구다.
        */

        /* Fetch의 기본 골격
        fetch("여기에 URL을 입력").then(res => res.json()).then(data => {
            console.log(data)
        })
        */

        /*
        http://spartacodingclub.shop/sparta_api/seoulair
        서울시 미세먼지 실시간 데이터 링크를 써서 확인해보자.
        */

        fetch("http://openapi.seoul.go.kr:8088/6d4d776b466c656533356a4b4b5872/json/RealtimeCityAir/1/99").then(res => res.json()).then(data => {
            // 데이터 전체가 찍히는지 확인
            console.log(data)

            // 첫번째 데이터가 찍히는지 확인
            console.log(data['RealtimeCityAir']['row'][0])

            // 반복문으로 찍히는지 확인
            let rows = data['RealtimeCityAir']['row']
            rows.forEach((a) => {
                console.log(a)
            });

            // 구의 이름'MSRSTE_NM'만 찍히는지 확인
            rows.forEach((a) => {
                console.log(a['MSRSTE_NM'])
            });

            // 구의 이름'MSRSTE_NM'과 수치'IDEX_MVL'이 찍히는지 확인
            rows.forEach((a) => {
                console.log(a['MSRSTE_NM'], a['IDEX_MVL'])
            });
        })

    </script>
</head>

<body>
    Fetch 연습을 위한 페이지
</body>

</html>